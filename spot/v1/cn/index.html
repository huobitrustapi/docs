
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <title>API Documentation</title>
    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <header>
      <div class="flex_box">
        <img src="images/logo.svg" class="logo" alt="Logo" />
        <div class="nav_box">
          <span class="nav_cell" style="display: none">
            <a href="javascript:;" class="nav_first">v1<i class="icon_nav"></i></a>
            <ul class="nav_ul">
              <li>
                <a href="/docs/spot/v1/en/" id="v1_url">v1</a>
              </li>
            </ul>
          </span>
          <!-- <span class="nav_cell nav_tab">
            <a href="/docs/spot/v1/en/" id="btn_spot">现货</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/dm/v1/en/" id="btn_dm">交割合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/coin_margined_swap/v1/en/" id="btn_coin_margined_swap">币本位永续合约</a>
          </span>
          <span class="nav_cell nav_tab">
            <a href="/docs/usdt_swap/v1/en/" id="btn_usdt_swap">USDT本位永续合约</a>
          </span> -->
          <!--
          <span class="nav_cell nav_tab">
            <a href="/docs/option/v1/en/" id="btn_option">期权合约</a>
          </span>
           <span class="nav_cell nav_tab">
            <a href="/docs/swap/v1/en/" id="btn_swap">永续合约</a>
          </span> -->
        </div>
      </div>
      <a href="/docs/spot/v1/cn/" class="lang" id="lang_box">简体中文</a>
    </header>
    <div class="toc-wrapper">
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
          </li>
          <li>
            <a href="#5ea2e0cde2" class="toc-h1 toc-link" data-title="简介">简介</a>
          </li>
          <li>
            <a href="#25e54147de" class="toc-h1 toc-link" data-title="快速入门">快速入门</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c1ae0a8486" class="toc-h2 toc-link" data-title="接入准备">接入准备</a>
                  </li>
                  <li>
                    <a href="#sdk" class="toc-h2 toc-link" data-title="SDK与代码示例">SDK与代码示例</a>
                  </li>
                  <li>
                    <a href="#5076603a3e" class="toc-h2 toc-link" data-title="接口类型">接口类型</a>
                  </li>
                  <li>
                    <a href="#urls" class="toc-h2 toc-link" data-title="接入URLs">接入URLs</a>
                  </li>
                  <li>
                    <a href="#c64cd15fdc" class="toc-h2 toc-link" data-title="签名认证">签名认证</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#2d07d50c97" class="toc-h1 toc-link" data-title="接入说明">接入说明</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3951e02bdc" class="toc-h2 toc-link" data-title="接口概览">接口概览</a>
                  </li>
                  <li>
                    <a href="#ec3cea3958" class="toc-h2 toc-link" data-title="新限频规则">新限频规则</a>
                  </li>
                  <li>
                    <a href="#c1fd2fc5ac" class="toc-h2 toc-link" data-title="限频规则">限频规则</a>
                  </li>
                  <li>
                    <a href="#21d67c3c4c" class="toc-h2 toc-link" data-title="请求格式">请求格式</a>
                  </li>
                  <li>
                    <a href="#dac673286f" class="toc-h2 toc-link" data-title="返回格式">返回格式</a>
                  </li>
                  <li>
                    <a href="#b031dc9a85" class="toc-h2 toc-link" data-title="数据类型">数据类型</a>
                  </li>
                  <li>
                    <a href="#e01e16de50" class="toc-h2 toc-link" data-title="最佳实践">最佳实践</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0adb1147b3" class="toc-h1 toc-link" data-title="常见问题">常见问题</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#q1-api-key" class="toc-h2 toc-link" data-title="Q1：一个用户可以申请多少个API Key？">Q1：一个用户可以申请多少个API Key？</a>
                  </li>
                  <li>
                    <a href="#q2" class="toc-h2 toc-link" data-title="Q2：为什么经常出现断线、超时的情况？">Q2：为什么经常出现断线、超时的情况？</a>
                  </li>
                  <li>
                    <a href="#q3" class="toc-h2 toc-link" data-title="Q3：为什么签名认证总返回失败？">Q3：为什么签名认证总返回失败？</a>
                  </li>
                  <li>
                    <a href="#q7-incorrect-access-key" class="toc-h2 toc-link" data-title="Q7：调用接口返回Incorrect Access Key 错误是什么原因？">Q7：调用接口返回Incorrect Access Key 错误是什么原因？</a>
                  </li>
                  <li>
                    <a href="#q8-gateway-internal-error" class="toc-h2 toc-link" data-title="Q8：调用接口返回 gateway-internal-error 错误是什么原因？">Q8：调用接口返回 gateway-internal-error 错误是什么原因？</a>
                  </li>
                  <li>
                    <a href="#q9-login-required" class="toc-h2 toc-link" data-title="Q9：调用接口返回 login-required 错误是什么原因？">Q9：调用接口返回 login-required 错误是什么原因？</a>
                  </li>
                  <li>
                    <a href="#q10-rest-http-405-method-not-allowed" class="toc-h2 toc-link" data-title="Q10: 调用Rest接口返回HTTP 405错误 method-not-allowed 是什么原因？">Q10: 调用Rest接口返回HTTP 405错误 method-not-allowed 是什么原因？</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#152d3db758" class="toc-h1 toc-link" data-title="联系我们">联系我们</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#f988263e8c" class="toc-h2 toc-link" data-title="技术支持">技术支持</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#2a0d0be224" class="toc-h1 toc-link" data-title="账户相关">账户相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#5ea2e0cde2-2" class="toc-h2 toc-link" data-title="简介">简介</a>
                  </li>
                  <li>
                    <a href="#2882ec4012" class="toc-h2 toc-link" data-title="账户信息查询">账户信息查询</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='185368440e'>更新日志</h1>
<style>
table {
    max-width:100%
}
table th {
    white-space: nowrap; /*表头内容强制在一行显示*/
}
</style>

<table><thead>
<tr>
<th>生效时间<br>(UTC +8)</th>
<th>接口</th>
<th>变化</th>
<th>摘要</th>
</tr>
</thead><tbody>
<tr>
<td>2021.9.16</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody></table>
<h1 id='5ea2e0cde2'>简介</h1>
<p>欢迎使用Huobi Trust API！</p>

<p>此文档是Huobi Trust API的唯一官方文档，Huobi Trust API提供的功能和服务会在此文档持续更新。</p>

<p>以下是现货API文档各章节主要内容</p>

<p>第一部分是概要介绍：</p>

<ul>
<li><strong>快速入门</strong>：该章节对Huobi Trust API做了简单且全方位的介绍，适合第一次使用Huobi Trust API的用户。</li>
<li><strong>常见问题</strong>：该章节列举了使用Huobi Trust API时常见的、和具体API无关的通用问题。</li>
<li><strong>联系我们</strong>：该章节介绍了针对不同问题，如何联系我们。</li>
</ul>

<p>第二部分是每个接口类的详细介绍，每个接口类一个章节，每个章节分为如下内容：</p>

<ul>
<li><strong>简介</strong>：对该接口类进行简单介绍，包括一些注意事项和说明。</li>
<li><strong><em>具体接口</em></strong>：介绍每个接口的用途、限频、请求、参数、返回等详细信息。</li>
<li><strong>常见错误码</strong>：介绍该接口类下常见的错误码及其说明。</li>
<li><strong>常见问题</strong>：介绍该接口类下常见问题和解答。</li>
</ul>
<h1 id='25e54147de'>快速入门</h1><h2 id='c1ae0a8486'>接入准备</h2>
<p>如需使用API ，请先登录网页端，完成API key的申请和权限配置，再据此文档详情进行开发和交易。</p>

<p>您可以点击 <a href='https://www.huobihktrust.com/zh-hk/user/api/ '>这里 </a> 创建 API Key。</p>

<p>每个用户可创建20组Api Key，每个Api Key可对应设置读取权限。</p>

<p>权限说明如下：</p>

<ul>
<li>读取权限：读取权限用于对数据的查询接口，例如：资产列表查询等。</li>
</ul>

<p>创建成功后请务必记住以下信息：</p>

<ul>
<li><p><code>Access Key</code>  API 访问密钥</p></li>
<li><p><code>Secret Key</code>  签名认证加密所使用的密钥（仅申请时可见）</p></li>
</ul>

<aside class="notice">
每个 API Key 最多可绑定 20个IP 地址(主机地址或网络地址)。
</aside>

<aside class="warning">
<red><b>风险提示</b></red>：这两个密钥与账号安全紧密相关，无论何时都请勿将二者<b>同时</b>向其它人透露。API Key的泄露可能会造成您的资产损失（即使未开通提币权限），若发现API Key泄露请尽快删除该API Key。
</aside>
<h2 id='sdk'>SDK与代码示例</h2>
<p><strong>SDK（推荐）</strong></p>

<p><a href="https://github.com/huobitrustapi/huobi_Java">Java</a> | <a href="https://github.com/huobitrustapi/huobi_Python">Python3</a> | <a href="https://github.com/huobitrustapi/huobi_Cpp">C++</a> | <a href="https://github.com/huobitrustapi/huobi_CSharp">C#</a> | <a href="https://github.com/huobitrustapi/huobi_golang">Go</a></p>

<p><strong>其它代码示例</strong></p>

<p><a href="https://github.com/huobitrustapi?tab=repositories">https://github.com/huobitrustapi?tab=repositories</a></p>
<h2 id='5076603a3e'>接口类型</h2>
<p>香港信托为用户提供两种接口，您可根据自己的使用场景和偏好来选择适合的方式进行查询资产。</p>
<h3 id='rest-api'>REST API</h3>
<p>REST，即Representational State Transfer的缩写，是目前较为流行的基于HTTP的一种通信机制，每一个URL代表一种资源。</p>

<p>使用API进行资产查询，建议开发者使用REST API进行操作。</p>
<h3 id='websocket-api'>WebSocket API</h3>
<p>WebSocket是HTML5一种新的协议（Protocol）。它实现了客户端与服务器全双工通信，通过一次简单的握手就可以建立客户端和服务器连接，服务器可以根据业务规则主动推送信息给客户端。</p>

<p>市场行情和买卖深度等信息，建议开发者使用WebSocket API进行获取。</p>

<p><strong>接口鉴权</strong></p>

<p>以上两种接口均包含公共接口和私有接口两种类型。</p>

<p>公共接口可用于获取基础信息和行情数据。公共接口无需认证即可调用。</p>

<p>私有接口可用于交易管理和账户管理。每个私有请求必须使用您的API Key进行签名验证。</p>
<h2 id='urls'>接入URLs</h2>
<p>您可以使用www.huobihktrust.com域名。</p>

<p><strong>REST API</strong></p>

<p><strong><code>https://www.huobihktrust.com</code></strong></p>

<aside class="notice">
请使用中国大陆以外的 IP 访问Huobi Trust API。
</aside>

<aside class="notice">
鉴于延迟高和稳定性差等原因，不建议通过代理的方式访问Huobi Trust API。
</aside>

<aside class="notice">
为保证API服务的稳定性，建议使用日本AWS云服务器进行访问。如使用中国大陆境内的客户端服务器，连接的稳定性将难以保证。
</aside>
<h2 id='c64cd15fdc'>签名认证</h2><h3 id='34addae335'>签名说明</h3>
<p>API 请求在通过 internet 传输的过程中极有可能被篡改，为了确保请求未被更改，除公共接口（基础信息，行情数据）外的私有接口均必须使用您的 API Key 做签名认证，以校验参数或参数值在传输途中是否发生了更改。<br>
每一个API Key需要有适当的权限才能访问相应的接口，每个新创建的API Key都需要分配权限。在使用接口前，请查看每个接口的权限类型，并确认你的API Key有相应的权限。</p>

<p>一个合法的请求由以下几部分组成：</p>

<ul>
<li>方法请求地址：即访问服务器地址 www.huobihktrust.com，比如 www.huobihktrust.com/v1/open/apiKeyDemo。</li>
<li>API 访问Id（AccessKeyId）：您申请的 API Key 中的 Access Key。</li>
<li>签名方法（SignatureMethod）：用户计算签名的基于哈希的协议，此处使用 HmacSHA256。</li>
<li>签名版本（SignatureVersion）：签名协议的版本，此处使用2。</li>
<li>时间戳（Timestamp）：您发出请求的时间 (UTC 时间)  。如：2017-05-11T16:22:06。在查询请求中包含此值有助于防止第三方截取您的请求。</li>
<li>必选和可选参数：每个方法都有一组用于定义 API 调用的必需参数和可选参数。可以在每个方法的说明中查看这些参数及其含义。

<ul>
<li>对于 GET 请求，每个方法自带的参数都需要进行签名运算。</li>
<li>对于 POST 请求，每个方法自带的参数不进行签名认证，并且需要放在 body 中。</li>
</ul></li>
<li>签名：签名计算得出的值，用于确保签名有效和未被篡改。</li>
</ul>
<h3 id='1fbac240b7'>签名步骤</h3>
<p>规范要计算签名的请求 因为使用 HMAC 进行签名计算时，使用不同内容计算得到的结果会完全不同。所以在进行签名计算前，请先对请求进行规范化处理。下面以查询某订单详情请求为例进行说明：</p>

<p>查询某订单详情时完整的请求URL</p>

<p><code>https://www.huobihktrust.com/v1/open/apiKeyDemo?</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>&amp;SignatureMethod=HmacSHA256</code></p>

<p><code>&amp;SignatureVersion=2</code></p>

<p><code>&amp;Timestamp=2017-05-11T15:19:30</code></p>

<p><code>&amp;order-id=1234567890</code></p>

<p><strong>1. 请求方法（GET 或 POST，WebSocket用GET），后面添加换行符 “\n”</strong></p>

<p>例如：
<code>GET\n</code></p>

<p><strong>2. 添加小写的访问域名，后面添加换行符 “\n”</strong></p>

<p>例如：
<code>
www.huobihktrust.com\n
</code></p>

<p><strong>3. 访问方法的路径，后面添加换行符 “\n”</strong></p>

<p>例如apiKeyDemo：<br>
<code>
/v1/open/apiKeyDemo\n
</code></p>

<p>例如WebSocket v2<br>
<code>
/ws/v2
</code></p>

<p><strong>4. 对参数进行URL编码，并且按照ASCII码顺序进行排序</strong></p>

<p>例如，下面是请求参数的原始顺序，且进行URL编码后</p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>demo-id=1234567890</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<aside class="notice">
使用 UTF-8 编码，且进行了 URL 编码，十六进制字符必须大写，如 “:” 会被编码为 “%3A” ，空格被编码为 “%20”。
</aside>

<aside class="notice">
时间戳（Timestamp）需要以YYYY-MM-DDThh:mm:ss格式添加并且进行 URL 编码。时间戳有效时间5分钟。
</aside>

<p>经过排序之后</p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<p><code>demo-id=1234567890</code></p>

<p><strong>5. 按照以上顺序，将各参数使用字符 “&amp;” 连接</strong></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30&amp;demo-id=1234567890</code></p>

<p><strong>6. 组成最终的要进行签名计算的字符串如下</strong></p>

<p><code>GET\n</code></p>

<p><code>www.huobihktrust.com\n</code></p>

<p><code>v1/open/apiKeyDemo\n</code></p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30&amp;demo-id=1234567890</code></p>

<p><strong>7. 用上一步里生成的 “请求字符串” 和你的密钥 (Secret Key) 生成一个数字签名</strong></p>

<ol>
<li>将上一步得到的请求字符串和 API 私钥作为两个参数，调用HmacSHA256哈希函数来获得哈希值。</li>
<li>将此哈希值用base-64编码，得到的值作为此次接口调用的数字签名。</li>
</ol>

<p><code>4F65x5A2bLyMWVQj3Aqp+B4w+ivaA7n5Oi2SuYtCJ9o=</code></p>

<p><strong>8. 将生成的数字签名加入到请求里</strong></p>

<p>对于Rest接口：</p>

<ol>
<li>把所有必须的认证参数添加到接口调用的路径参数里</li>
<li>把数字签名在URL编码后加入到路径参数里，参数名为“Signature”。</li>
</ol>

<p>最终，发送到服务器的 API 请求应该为</p>

<p><code>https://www.huobihktrust.com/v1/open/apiKeyDemo?AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx&amp;demo-id=1234567890&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2017-05-11T15%3A19%3A30&amp;Signature=4F65x5A2bLyMWVQj3Aqp%2BB4w%2BivaA7n5Oi2SuYtCJ9o%3D</code></p>
<h1 id='2d07d50c97'>接入说明</h1><h2 id='3951e02bdc'>接口概览</h2>
<table><thead>
<tr>
<th>接口分类</th>
<th>分类链接</th>
<th>概述</th>
</tr>
</thead><tbody>
<tr>
<td>测试类</td>
<td>/v1/open/apiKeyDemo/*</td>
<td>apiKey测试相关接口</td>
</tr>
<tr>
<td>账户类</td>
<td>/v1/open/account/*</td>
<td>账户相关接口</td>
</tr>
</tbody></table>

<p>该分类为大类整理，部分接口未遵循此规则，请根据需求查看有关接口文档。</p>
<h2 id='ec3cea3958'>新限频规则</h2>
<ul>
<li><p>当前，新限频规则正在逐步上线中，已单独标注限频值的接口且该限频值被标注为NEW的接口适用新限频规则。</p></li>
<li><p>新限频规则采用基于UID的限频机制，即，同一UID下各API Key同时对某单个节点请求的频率不能超出单位时间内该节点最大允许访问次数的限制。</p></li>
<li><p>用户可根据Http Header中的&quot;X-HB-RateLimit-Requests-Remain&quot;（限频剩余次数）及&quot;X-HB-RateLimit-Requests-Expire&quot;（窗口过期时间）查看当前限频使用情况，以及所在时间窗口的过期时间，根据该数值动态调整您的请求频率。</p></li>
</ul>
<h2 id='c1fd2fc5ac'>限频规则</h2>
<p>除已单独标注限频值为NEW的接口外 -<br>
* 每个API Key 在1秒之内限制10次<br>
* 若接口不需要API Key，则每个IP在1秒内限制10次<br></p>

<p>比如：</p>

<ul>
<li>资产订单类接口调用根据API Key进行限频：1秒10次</li>
</ul>
<h2 id='21d67c3c4c'>请求格式</h2>
<p>所有的API请求都是restful，目前只有两种方法：GET和POST</p>

<ul>
<li>GET请求：所有的参数都在路径参数里</li>
<li>POST请求，所有参数以JSON格式发送在请求主体（body）里</li>
</ul>
<h2 id='dac673286f'>返回格式</h2>
<p>所有的接口都是JSON格式。其中v1和v2接口的JSON定义略有区别。</p>

<p><strong>接口返回格式</strong>：最上层有三个字段：<code>code</code>, <code>message</code> 和 <code>data</code>。前两个字段表示返回码和错误消息，实际的业务数据在<code>data</code>字段里。</p>

<p>以下是一个返回格式的样例：</p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">per</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">nested</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>API接口返回码</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误消息（如果有）</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>接口返回数据主体</td>
</tr>
</tbody></table>
<h2 id='b031dc9a85'>数据类型</h2>
<p>本文档对JSON格式中数据类型的描述做如下约定：</p>

<ul>
<li><code>string</code>: 字符串类型，用双引号（&quot;）引用</li>
<li><code>int</code>: 32位整数，主要涉及到状态码、大小、次数等</li>
<li><code>long</code>: 64位整数，主要涉及到Id和时间戳</li>
<li><code>float</code>: 浮点数，主要涉及到金额和价格，建议程序中使用高精度浮点型</li>
<li><code>object</code>: 对象，包含一个子对象{}</li>
<li><code>array</code>: 数组，包含多个对象</li>
</ul>
<h2 id='e01e16de50'>最佳实践</h2><h3 id='9f100d1da9'>安全类</h3>
<ul>
<li>强烈建议：不要将API Key暴露给任何人（包括第三方软件或机构），API Key代表了您的账户权限，API Key的暴露可能会对您的信息、资金造成损失，若API Key泄露，请尽快删除并重新创建。</li>
</ul>
<h3 id='7312d1c8d6'>公共类</h3>
<p><strong>API访问建议</strong></p>

<ul>
<li>不建议在中国大陆境内使用临时域名以及代理的方式访问Huobi Trust API，此类方式访问API连接的稳定性很难保证。</li>
<li>建议使用日本AWS云服务器进行访问。</li>
<li>官方域名www.huobihktrust.com。</li>
</ul>

<p><strong>新限频规则</strong></p>

<ul>
<li><p>当前最新限频规则正在逐步上线中，已单独标注限频值的接口适用新限频规则。</p></li>
<li><p>用户可根据Http Header中“X-HB-RateLimit-Requests-Remain（限频剩余次数）”，“X-HB-RateLimit-Requests-Expire（窗口过期时间）”查看当前限频使用情况，以及所在时间窗口的过期时间，根据该数值动态调整您的请求频率。</p></li>
<li><p>同一UID下各API Key同时对某单个节点请求的频率不能超出单位时间内该节点最大允许访问次数的限制。</p></li>
</ul>
<h1 id='0adb1147b3'>常见问题</h1>
<p>本章列举了和具体API无关的通用常见问题，如网络、签名或通用错误等。</p>

<p>针对某类或某个API的问题，请查看每章API的错误码和常见问题。</p>
<h3 id='q1-api-key'>Q1：一个用户可以申请多少个API Key？</h3>
<p>每个用户可创建20组API Key，每个API Key可对应设置读取权限。</p>

<p>以下是权限的说明：</p>

<ul>
<li>读取权限：读取权限用于对数据的查询接口，例如：资产查询等。</li>
</ul>
<h3 id='q2'>Q2：为什么经常出现断线、超时的情况？</h3>
<p>请检查是否属于以下情况：</p>

<ol>
<li>客户端服务器如在中国大陆境内，连接的稳定性很难保证，建议使用日本AWS云服务器进行访问。</li>
</ol>
<h3 id='q3'>Q3：为什么签名认证总返回失败？</h3>
<p>请检查如下可能的原因：</p>

<p>1、签名参数应该按照ASCII码排序。比如下面是原始的参数：</p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>order-id=1234567890</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<p>排序之后应该为：</p>

<p><code>AccessKeyId=e2xxxxxx-99xxxxxx-84xxxxxx-7xxxx</code></p>

<p><code>SignatureMethod=HmacSHA256</code></p>

<p><code>SignatureVersion=2</code></p>

<p><code>Timestamp=2017-05-11T15%3A19%3A30</code></p>

<p><code>order-id=1234567890</code></p>

<p>2、签名串需进行URL编码。比如：</p>

<ul>
<li>冒号 <code>:</code>会被编码为<code>%3A</code>，空格会被编码为 <code>%20</code></li>
<li>时间戳需要格式化为 <code>YYYY-MM-DDThh:mm:ss</code> ，经过URL编码之后为 <code>2017-05-11T15%3A19%3A30</code></li>
</ul>

<p>3、签名需进行 base64 编码</p>

<p>4、Get请求参数需在签名串中</p>

<p>5、时间为UTC时间转换为YYYY-MM-DDTHH:mm:ss</p>

<p>6、检查本机时间与标准时间是否存在偏差（偏差应小于1分钟）</p>

<p>7、WebSocket发送验签认证消息时，消息体不需要URL编码</p>

<p>8、签名时所带Host应与请求接口时Host相同</p>

<p>如果您使用了代理，代理可能会改变请求Host，可以尝试去掉代理；</p>

<p>或者，您使用的网络连接库可能会把端口包含在Host内，可以尝试在签名用到的Host中包含端口，如“www.huobihktrust.com:443&quot;</p>

<p>9、Access Key 与 Secret Key中是否存在隐藏特殊字符，影响签名</p>

<p>当前官方已支持多种语言的<a href="https://github.com/huobitrustapi">SDK</a>，可以参考SDK的签名实现，或者以下三种语言的签名样例代码</p>

<p><a href='https://github.com/huobitrustapi/huobi_Java/blob/master/java_signature_demo.md'>JAVA签名样例代码</a> | <a href='https://github.com/huobitrustapi/huobi_Python/blob/master/example/python_signature_demo.md'>Python签名样例代码</a>   | <a href='https://github.com/huobitrustapi/huobi_Cpp/blob/master/examples/cpp_signature_demo.md'>C++签名样例代码 </a></p>
<h3 id='q7-incorrect-access-key'>Q7：调用接口返回Incorrect Access Key 错误是什么原因？</h3>
<p>请检查URL请求中Access Key是否传递准确，例如：</p>

<ol>
<li>Access Key没有传递</li>
<li>Access Key位数不准确</li>
<li>Access Key已经被删除</li>
<li>URL请求中参数拼接错误或者特殊字符没有进行编码导致服务端对AccessKey解析不正确</li>
</ol>
<h3 id='q8-gateway-internal-error'>Q8：调用接口返回 gateway-internal-error 错误是什么原因？</h3>
<p>请检查是否属于以下情况：</p>

<ol>
<li>可能为网络原因或服务内部错误，请稍后进行重试。</li>
<li>发送数据格式是否正确（需要标准JSON格式）。</li>
<li>POST请求头header需要声明为<code>Content-Type:application/json</code> 。</li>
</ol>
<h3 id='q9-login-required'>Q9：调用接口返回 login-required 错误是什么原因？</h3>
<p>请检查是否属于以下情况：</p>

<ol>
<li>未将AccessKey参数带入URL中。</li>
<li>未将Signature参数带入URL中。</li>
</ol>
<h3 id='q10-rest-http-405-method-not-allowed'>Q10: 调用Rest接口返回HTTP 405错误 method-not-allowed 是什么原因？</h3>
<p>该错误表明调用了不存在的Rest接口，请检查Rest接口路径是否准确。由于Nginx的设置，请求路径(Path)是大小写敏感的，请严格按照文档声明的大小写。</p>
<h1 id='152d3db758'>联系我们</h1><h2 id='f988263e8c'>技术支持</h2>
<p>使用过程中如有问题或者建议，您可选择以下任一方式联系我们：</p>

<ul>
<li>通过官网的“帮助中心”或者发送邮件至support@huobihktrust.com联系客服。</li>
</ul>

<p>如您遇到API错误，请按照如下模板向我们反馈问题。</p>

<p><code>1. 问题描述</code><br>
<code>2. 问题发生的用户Id(UID)，账户Id和订单Id(如果和账户、订单有关系)</code><br>
<code>3. 完整的URL请求</code><br>
<code>4. 完整的JSON格式的请求参数（如果有）</code><br>
<code>5. 完整的JSON格式的返回结果</code><br>
<code>6. 问题出现时间和频率（如何时开始出现，是否可以重现）</code><br>
<code>7. 签名前字符串（如果是签名认证错误）</code></p>

<p>下方是一个应用了模版的例子：</p>

<p><code>1. 问题简要说明：签名错误</code><br>
<code>2. UID：123456</code><br>
<code>3. 完整的URL请求：GET https://www.huobihktrust.com/v1/open/apiKeyDemo/forRead?&amp;SignatureVersion=2&amp;SignatureMethod=HmacSHA256&amp;Timestamp=2019-11-06T03%3A25%3A39&amp;AccessKeyId=rfhxxxxx-950000847-boooooo3-432c0&amp;Signature=HhJwApXKpaLPewiYLczwfLkoTPnFPHgyF61iq0iTFF8%3D</code><br>
<code>4. 完整的JSON格式的参数：无</code><br>
<code>5. 完整的JSON格式的返回：{&quot;status&quot;:&quot;error&quot;,&quot;err-code&quot;:&quot;api-signature-not-valid&quot;,&quot;err-msg&quot;:&quot;Signature not valid: Incorrect Access key [Access key错误]&quot;,&quot;data&quot;:null}</code><br>
<code>6. 问题出现频率：每次都会出现</code><br>
<code>7. 签名前字符串</code><br>
<code>GET\n</code><br>
<code>www.huobihktrust.com\n</code><br>
<code>/v1/open/apiKeyDemo/forRead\n</code><br>
<code>AccessKeyId=rfhxxxxx-950000847-boooooo3-432c0&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2&amp;Timestamp=2019-11-06T03%3A26%3A13</code></p>

<p>注意：Access Key仅能证明您的身份，不会影响您账户的安全。切记<strong>不</strong>要将Secret Key信息分享给任何人，若您不小心将Secret Key暴露，请尽快<a href="https://www.hbg.com/zh-cn/apikey/">删除</a>其对应的API Key，以免造成您的账户损失。</p>
<h1 id='2a0d0be224'>账户相关</h1><h2 id='5ea2e0cde2-2'>简介</h2>
<p>账户相关接口提供了账户、余额等查询转等功能。</p>

<aside class="notice">访问账户相关的接口需要进行签名认证。</aside>
<h2 id='2882ec4012'>账户信息查询</h2>
<p>API Key 权限：读取<br>
限频值（NEW）：100次/2s</p>

<p>查询指定类型账户，支持以下账户类型：</p>

<p>hb-spot：资金账户， hbt-custody：交易账户</p>
<h3 id='http'>HTTP 请求</h3>
<ul>
<li>GET <code>/v1/open/account/get</code></li>
</ul>
<h3 id='1f9ac54b15'>请求参数</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>类型</th>
<th>描述</th>
<th>默认值</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>true</td>
<td>string</td>
<td>hb-spot：资金账户， hbt-brokerage：brokerage交易账户，hbt-custody：交易账户</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10120.558300000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"suspense"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19.000000000000000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdtusdt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"normal"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"suspense"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusdt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mi">47815</span><span class="p">,</span><span class="w">
        </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mi">47815</span><span class="p">,</span><span class="w">
        </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mi">47815</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vol"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='2213f4c32f'>响应数据</h3>
<table><thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>true</td>
<td>integer</td>
<td>状态码</td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>false</td>
<td>string</td>
<td>错误描述（如有）</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>false</td>
<td>object</td>
<td>业务数据</td>
<td></td>
</tr>
</tbody></table>

<p>data字段说明</p>

<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
<td></td>
</tr>
<tr>
<td>balance</td>
<td>string</td>
<td>余额</td>
<td></td>
</tr>
<tr>
<td>suspense</td>
<td>string</td>
<td>冻结金额</td>
<td></td>
</tr>
<tr>
<td>price</td>
<td>object</td>
<td>折合usdt行情</td>
<td></td>
</tr>
</tbody></table>

<p>price字段说明</p>

<table><thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>描述</th>
<th>取值范围</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>币种</td>
<td></td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>交易对</td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>number</td>
<td>24小时最高价</td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>number</td>
<td>最新价</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>number</td>
<td>24小时开盘价</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>number</td>
<td>24小时成交量</td>
<td></td>
</tr>
<tr>
<td>vol</td>
<td>number</td>
<td>24小时成交额</td>
<td></td>
</tr>
<tr>
<td>count</td>
<td>number</td>
<td>24小时成交笔数</td>
<td></td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
    <script>
      const lang_btn = document.getElementById('lang_box');
      const btn_spot = document.getElementById('btn_spot');
      const btn_dm = document.getElementById('btn_dm');
      const btn_coin_margined_swap = document.getElementById('btn_coin_margined_swap');
      const btn_usdt_swap = document.getElementById('btn_usdt_swap')
    //  const btn_option = document.getElementById('btn_option');
      const v1_url = document.getElementById('v1_url');
      const url = GetUrlRelativePath();

      if(url.indexOf('cn') != -1){
        //如果是中文环境
        lang_btn.innerHTML = 'English';
        btn_spot.innerHTML = '现货';
        btn_dm.innerHTML = '交割合约';
        btn_coin_margined_swap.innerHTML = '币本位永续合约';
        btn_usdt_swap.innerHTML = 'USDT本位永续合约';
      //  btn_option.innerHTML = '期权合约';
        lang_btn.href = url.replace('cn/', 'en/');
        btn_spot.href = btn_spot.href.replace('en/', 'cn/');
        btn_dm.href = btn_dm.href.replace('en/', 'cn/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('en/', 'cn/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('en/', 'cn/');
      //  btn_option.href = btn_option.href.replace('en/', 'cn/');
        v1_url.href = '/docs/spot/v1/cn/';
      }else{
        //如果是英文环境
        lang_btn.innerHTML = '中文';
        btn_spot.innerHTML = 'Spot';
        btn_dm.innerHTML = 'Futures';
        // btn_swap.innerHTML = 'SWAP API';
        btn_coin_margined_swap.innerHTML = 'Coin Margined Swap';
        btn_usdt_swap.innerHTML = 'USDT Margined Swap';
      //  btn_option.innerHTML = 'Option';
        lang_btn.href = url.replace('en/', 'cn/');
        btn_spot.href = btn_spot.href.replace('cn/', 'en/');
        btn_dm.href = btn_dm.href.replace('cn/', 'en/');
        // btn_swap.href = btn_swap.href.replace('cn/', 'en/');
        btn_coin_margined_swap.href = btn_coin_margined_swap.href.replace('cn/', 'en/');
        btn_usdt_swap.href = btn_usdt_swap.href.replace('cn/', 'en/');
      //  btn_option.href = btn_option.href.replace('cn/', 'en/');
        v1_url.href = '/docs/spot/v1/en/';
      }

      if(location.href.indexOf('docs/dm/v') > 0){
        btn_spot.className = '';
        btn_dm.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
      //  btn_option.className = '';
      }
      else if(location.href.indexOf('docs/coin_margined_swap/v') > 0){
        btn_spot.className = '';
        btn_dm.className = '';
        btn_coin_margined_swap.className = 'current';
        btn_usdt_swap.className = '';
      //  btn_option.className = '';
      } else if(location.href.indexOf('docs/usdt_swap/v') > 0){
        btn_spot.className = '';
        btn_dm.className = '';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = 'current';
      //   btn_option.className = '';
      // } else if(location.href.indexOf('docs/option/v') > 0){
      //   btn_spot.className = '';
      //   btn_coin_margined_swap.className = '';
      //   btn_usdt_swap.className = '';
      //   btn_dm.className = '';
      //   btn_option.className = 'current';
      } else {
        btn_spot.className = 'current';
        btn_coin_margined_swap.className = '';
        btn_usdt_swap.className = '';
        btn_dm.className = '';
      //  btn_option.className = '';
      }
      //显示语言切换按钮
      lang_btn.style.display = 'block';
      function GetUrlRelativePath(){
        let url = document.location.toString();
        let arrUrl = url.split("//");
        let start = arrUrl[1].indexOf("/");
        let relUrl = arrUrl[1].substring(start);
        if(relUrl.indexOf("?") != -1){
          relUrl = relUrl.split("?")[0];
        }
        if(relUrl.indexOf("#") != -1){
          relUrl = relUrl.split("#")[0];
        }
        return relUrl;
  　　}
    </script>
  </body>
</html>
